const createLogger = function() {
    const COLOR_RED ='\033[0;31m';
    const COLOR_GREEN ='\033[0;32m';
    const COLOR_YELLOW ='\033[0;33m';
    const NO_COLOR = '\033[0m';

    return  {
        write: function(str) {
            let message = String(str);
            let messageType = message.match(/^\[\w+\]/);
            let color = NO_COLOR;

            switch (messageType ? messageType[0] : '') {
                case '[OK]': color = COLOR_GREEN;
                break;
                case '[INFO]': color = COLOR_YELLOW;
                break;
                case '[ERROR]': color = COLOR_RED;
                break;
            }

            process.stdout.write(`${color}${message}${NO_COLOR}`);
        }
    } 
}

module.exports = createLogger();